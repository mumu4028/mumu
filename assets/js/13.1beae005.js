(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{288:function(t,e,a){"use strict";a.r(e);var s=a(14),n=Object(s.a)({},(function(){var t=this._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":this.$parent.slotKey}},[t("h1",{attrs:{id:"微信富文本编译器组件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#微信富文本编译器组件"}},[this._v("#")]),this._v(" 微信富文本编译器组件")]),this._v(" "),t("h3",{attrs:{id:"在比如微信原生小程序的时候-由于微信原生语法是wxml的语法不支持h和div等标签所以会引入一个富文本编译插件来解决这里以wxpaese举例"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#在比如微信原生小程序的时候-由于微信原生语法是wxml的语法不支持h和div等标签所以会引入一个富文本编译插件来解决这里以wxpaese举例"}},[this._v("#")]),this._v(" 在比如微信原生小程序的时候，由于微信原生语法是WXML的语法不支持H和div等标签所以会引入一个富文本编译插件来解决这里以wxPaese举例")]),this._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v('在app.wxss文件中引入样式\n@import "/WxParse/WxParse.wxss"\n\n在js中引入\nvar WxParse= require(\'../../WxParse/WxParse.js\');\n  onLoad(options) {\n  这里以cnodejs官网详情页内容请求返回的富文本举例\n  this.getDetailInfo(`https://cnodejs.org/api/v1/topic/${options.id}`)\n},\nasync getDetailInfo(url, data) {\n  let result = await Allrequest(url, data)\n  let tempData = result.data\n  tempData.replies.forEach((item) => {\n\n    将H5的内容进行加工处理\n    let laber = item.content //这里是返回的html结构数据\n\n    评论区的内容：\n    参数1：是在wxml中绑定的数据标签，参数2：是编译对象的类型，参数3：是要编译的数据\n    参数4：一般写当前页面的this，参数5：是编译深度一般写5\n    let tempresult = WxPrase.wxParse(\'commentH5\', \'html\', laber, this, 5)\n    编译后的数据默认放在this.data[自定义的标签名]中，也可以赋值给新的属性\n    item.commentH5 = this.data.commentH5\n  })\n  this.setData({\n    detail: tempData,\n  })\n  编译作者写作的内容\n  WxPrase.wxParse(\'wxParseData\', \'html\', this.data.detail.content, this, 5)\n},\n\n  \x3c!-- 在需要的组件首上上引入WXML --\x3e\n在所需位置引入，将wxParseData的值设为自定义的数据标签名+nodes，即可完成微信小程序的富文本\n编译 \n<import src="../../wxParse/wxParse.wxml"/>\n  \x3c!-- 文章内容 --\x3e\n<template is="wxParse" data="{{wxParseData:wxParseData.nodes}}"  ></template>   \n  \x3c!-- 评论区 --\x3e\n<view wx:for="{{detail.replies}}" wx:key="id" class="comment">\n  <view>\n    <template is="wxParse" data="{{wxParseData:item.commentH5.nodes}}" ></template> \n  </view>\n</view>\n')])])])])}),[],!1,null,null,null);e.default=n.exports}}]);